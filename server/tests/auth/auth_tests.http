### üîê Authentication Endpoints
# Complete test suite for user authentication and profile management

@baseUrl =http://127.0.0.1:5000

### =============================================
### USER REGISTRATION TESTS
### =============================================

### Register Student User
POST {{baseUrl}}/api/auth/register
Content-Type: application/json

{
  "email": "jane.doe@student.moringaschool.com",
  "password": "StrongPass123!",
  "role": "student",
  "bio": "Full-stack developer passionate about web technologies and AI",
  "socials": "github.com/janedoe, linkedin.com/in/janedoe, twitter.com/janedoe_dev",
  "past_projects": "E-commerce platform with React/Node.js, Task management app with Vue.js, AI-powered portfolio website",
  "phone": "+254701234567"
}

### Register Client User
POST {{baseUrl}}/api/auth/register
Content-Type: application/json

{
  "email": "hiring@techcorp.co.ke",
  "password": "StrongPass123!",
  "role": "client",
  "company": "TechCorp Solutions Kenya Ltd",
  "phone": "+254700123456"
}


### Test Invalid Student Email (Should fail)
POST {{baseUrl}}/api/auth/register
Content-Type: application/json

{
  "email": "invalid@gmail.com",
  "password": "StrongPass123!",
  "role": "student",
  "bio": "Student with invalid email",
  "socials": "github.com/invalid",
  "past_projects": "Test project"
}

### =============================================
### USER LOGIN TESTS
### =============================================

### Login Student
POST {{baseUrl}}/api/auth/login
Content-Type: application/json

{
  "email": "jane.student@student.moringaschool.com",
  "password": "StrongPass123!"
}

### Login Client
POST {{baseUrl}}/api/auth/login
Content-Type: application/json

{
  "email": "hiring@techcorp.co.ke",
  "password": "StrongPass123!"
}

### Login Admin (Default admin created on server start)
POST {{baseUrl}}/api/auth/login
Content-Type: application/json

{
  "email": "admin@example.com",
  "password": "StrongPass123!"
}

### Test Invalid Login (Should fail)
POST {{baseUrl}}/api/auth/login
Content-Type: application/json

{
  "email": "nonexistent@example.com",
  "password": "WrongPassword123!"
}

### =============================================
### USER PROFILE TESTS (Requires Authentication)
### =============================================eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmcmVzaCI6ZmFsc2UsImlhdCI6MTc1MzA0MDk0MywianRpIjoiODQxMGU2YTctZWMyMC00YTlhLWExZTctN2M2YWE1ODdiY2NkIiwidHlwZSI6ImFjY2VzcyIsInN1YiI6IjEiLCJuYmYiOjE3NTMwNDA5NDMsImV4cCI6MTc1MzEyNzM0M30.u-Xc3DWU1l1Ipybw91ZFgOg46nqR3B_ANEQwNBLHIOc

### Get Current User Identity
GET {{baseUrl}}/api/auth/me
Content-Type: application/json
Cookie: access_token_cookie=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmcmVzaCI6ZmFsc2UsImlhdCI6MTc1MzA0MzM4NCwianRpIjoiYWE3Y2I4MWMtNzJhYy00OTRlLTgwZGUtNGQ2OWJjNjhhZDYwIiwidHlwZSI6ImFjY2VzcyIsInN1YiI6IjE0IiwibmJmIjoxNzUzMDQzMzg0LCJleHAiOjE3NTMxMjk3ODR9.X46a4boosYX2l6CX7i12OaYaufEiOeU8spfTi1bQXBg

### Get User Profile Details
GET {{baseUrl}}/api/auth/profile
Content-Type: application/json
Cookie: access_token_cookie=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmcmVzaCI6ZmFsc2UsImlhdCI6MTc1MzAyNTE3OSwianRpIjoiMDdmY2JmNTUtYTc3Mi00Y2MyLThiMjAtNzc2YmJjODNmYjE0IiwidHlwZSI6ImFjY2VzcyIsInN1YiI6IjMiLCJuYmYiOjE3NTMwMjUxNzksImV4cCI6MTc1MzExMTU3OX0.D8L2WQlbWh_WlezgoMB_WbEvm_gSK_tCmuYLIKbJecs

### Update Student Profile
PUT {{baseUrl}}/api/auth/profile
Content-Type: application/json
Cookie: access_token_cookie=YOUR_JWT_TOKEN_HERE

{
  "bio": "Updated: Senior full-stack developer specializing in MERN stack and AI integration",
  "socials": "github.com/janedoe, linkedin.com/in/janedoe, twitter.com/janedoe_dev, portfolio: janedoe.dev",
  "past_projects": "E-commerce platform (React/Node.js), AI Task manager (Vue.js/Python), ML-powered portfolio, Blockchain voting system",
  "phone": "+254701234999"
}

### Update Client Profile
PUT {{baseUrl}}/api/auth/profile
Content-Type: application/json
Cookie: access_token_cookie=YOUR_JWT_TOKEN_HERE

{
  "company": "TechCorp Solutions Kenya Ltd - Digital Innovation Hub",
  "phone": "+254700123999"
}

### Change Password
PUT {{baseUrl}}/api/auth/profile
Content-Type: application/json
Cookie: access_token_cookie=YOUR_JWT_TOKEN_HERE

{
  "password": "NewStrongPass123!"
}

### =============================================
### USER LOGOUT TESTS
### =============================================

### Logout User (Clears JWT cookies)
POST {{baseUrl}}/api/auth/logout
Content-Type: application/json

### Test Accessing Protected Route After Logout (Should fail)
GET {{baseUrl}}/api/auth/profile
Content-Type: application/json
